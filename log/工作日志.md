## 硬件综合设计工作日志



### 12.29

1. 对组成原理lab4的数据通路进行改动，特别是decoder阶段的通路进行了较大的改动
2. 加入了第一组8条指令
3. 对于组成原理lab4数据通路与本次硬件综合设计通路图少许不一样的地方，进行了重构使得现有数据通路与通路图仅有微小且不影响结果的差距
4. 对代码进行兼容--可以兼容组成原理lab4中的原有指令。



### 12.30

1. 加入两组指令，对数据通路进行了修改，加入了数据前移等逻辑

2. 完成移位和数据转移指令的添加并通过测试

3. 将算数指令部分进行了一些思考

4. 据转移指令的ALU辅助了一部分controller的逻辑




### 12.31

1. 完成算数指令部分的添加并通过测试
2. 完成分支跳转指令的添加，仅未测试
3. 对数据通路进行了大量添加



### 1.1

1. 完善了分支挑战指令，能通过测试，de掉了之前的bug
2. 完成了访存指令的实现并通过了测试
3. 修改了部分通路逻辑



### 1.2

1. 对数据通路做了大量添加，加入了例外判断模块，接入了CP0协处理器；较多地改变了通路
2. 完成了特权指令和大部分内陷指令，仅未测试，需要明天起床尝试先自己写一个coe独立测试无问题之后再加入MyCPU
3. 修改了控制器分支跳转指令的逻辑，现在变得和PPT一样
4. 修改了分支跳转部分选择器对应的逻辑
5. 修改了冒险处理模块当中的逻辑，现在能正确跑出运算和分支跳转指令的测试
6. 封装为了SRAM接口并通过前两个测试
7. 添加了固定操作数的逻辑
8. 修改了一些接线的逻辑，引出了一些旁路等等



### 1.3

1. 完成了特权指令与内陷指令添加，测试，仅未完成Debug
2. 将特权指令与内陷指令连接到sram测试，并基于此debug。
3. 大量修改了数据通路与逻辑
4. 封装了axi接口，分别为无cache、有写透cache的、正在写的二路组相联cache的，但都还没有测试



### 1.4

1. de掉了一个只有在func_full里才能找到的bug
2. 对异常处理部分进行了修改了badVaddress回路等问题，详见错误日志
3. 修改了所有的Warning，其中某些warning导致了严重的问题
4. 完成了所有的sram测试
5. 完善了axi封装，优化了二路组相联cache，准备写算法。
6. 加入了地址转换模块
7. 重要更新：优化了分支数据前推，改了通路。现在E阶段也可以前推。



### 1.5

1. axi封装完成，CPU本身没有问题，但是比对Trace会有问题，修改了这个bug
2. 添加了一路写透cache，通过测试
3. 大体完成二路写透cache，但是有很多bug
4. 大体完成数据通路图最终visio版本



### 1.6

1. 二路写透Cache完成，通过测试
2. 四路组相联写回Cache完成，通过测试
3. 完成10个基准程序性能测试，部分存在bug需要处理

